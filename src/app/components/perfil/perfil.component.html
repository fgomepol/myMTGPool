<div id="wrapper">
    <!-- Navigation -->
    <app-navbar [pantalla]="pantalla"></app-navbar>
    <!-- /Navigation -->
    <!-- /ControlPanel -->
    <div class="row">
        <div class="col-lg-3">
            <!-- ControlPanel -->
            <app-option></app-option>
            <!-- /.ControlPanel -->
        </div>
        <div class="col-lg-9">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Datos del Perfil
                </div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <div *ngIf="formularioRelleno == true" class="text-success text-center">
                                Has modifciado tus datos correctamente.
                                <div>
                                    &nbsp;
                                </div>
                            </div>

                            <form [formGroup]="forma" (ngSubmit)="guardarCambios()" novalidate="novalidate">
                                <input class="form-control" formControlName="id" type="hidden">

                                <div class="form-group row" [ngClass]="{ 'text-danger': !forma.controls['firstName'].valid, 'text-success': forma.controls['firstName'].valid }">
                                    <label class="col-3 col-form-label">Nombre</label>
                                    <div class="col-8">
                                        <!-- value="{{ userGuardado['firstName'] }}" -->
                                        <input class="form-control" formControlName="firstName" type="text" placeholder="Nombre">
                                    </div>
                                </div>
                                <div class="form-group row" [ngClass]="{ 'text-danger': !forma.controls['lastName'].valid, 'text-success': forma.controls['lastName'].valid }">
                                    <label class="col-3 col-form-label">Apellidos</label>
                                    <div class="col-8">

                                        <input class="form-control" formControlName="lastName" type="text" placeholder="Apellido">
                                    </div>
                                </div>

                                <div class="form-group row" [ngClass]="{ 'text-danger': !forma.controls['password'].valid, 'text-success': forma.controls['password'].valid }">
                                    <label class="col-3 col-form-label">Clave</label>
                                    <div class="col-md-8">

                                        <input class="form-control" type="password" placeholder="Clave" formControlName="password">
                                    </div>
                                </div>

                                <div *ngIf="forma.get('password').hasError('minlength')" class="form-group row text-danger">
                                    La clave debe teber por lo menos 8 caracteres.
                                </div>

                                <div class="form-group row" [ngClass]="{ 'text-danger': !forma.get('email').valid, 'text-success': forma.controls['email'].valid }">
                                    <label class="col-3 col-form-label">Correo electrónico</label>
                                    <div class="col-md-8">

                                        <input class="form-control" formControlName="email" type="email" placeholder="Correo electrónico">
                                    </div>
                                </div>

                                <div *ngIf="forma.get('email').hasError('pattern')" class="form-group row text-danger">
                                    Debe introducir un email válido.
                                </div>

                                <div class="form-group row" [ngClass]="{ 'text-danger': !forma.get('pais').valid, 'text-success': forma.controls['pais'].valid }">
                                    <label class="col-3 col-form-label">País</label>
                                    <div class="col-md-8">
                                        <select class="form-control" formControlName="pais">
                                            <option *ngFor="let pais of paises" value="{{ pais.codigo }}">
                                            {{ pais.nombre }}
                                            </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group row" [ngClass]="{ 'text-danger': !forma.get('provincia').valid, 'text-success': forma.controls['provincia'].valid }">
                                    <label class="col-3 col-form-label">Provincia</label>
                                    <div class="col-md-8">

                                        <input class="form-control" type="text" placeholder="Provincia" formControlName="provincia">
                                    </div>
                                </div>

                                <div class="form-group row" [ngClass]="{ 'text-danger': !forma.get('localidad').valid, 'text-success': forma.controls['localidad'].valid }">
                                    <label class="col-3 col-form-label">Localidad</label>
                                    <div class="col-md-8">

                                        <input class="form-control" type="text" placeholder="Localidad" formControlName="localidad">
                                    </div>
                                </div>

                                <div class="form-group row" [ngClass]="{ 'text-danger': !forma.get('cp').valid, 'text-success': forma.controls['cp'].valid }">
                                    <label class="col-3 col-form-label">Cp:</label>
                                    <div class="col-md-8">

                                        <input class="form-control" type="text" placeholder="Cp" formControlName="cp">
                                    </div>
                                </div>

                                <div *ngIf="forma.get('cp').hasError('minlength')" class="form-group row text-danger">
                                    Por lo menos 5 números.
                                </div>

                                <div *ngIf="forma.get('cp').hasError('pattern')" class="form-group row text-danger">
                                    Debe introducir un código postal válido.
                                </div>

                                <div class="form-group row">
                                    <div class="input-group col-md-11 text-center">
                                        <button type="submit" [disabled]="!forma.valid" [ngClass]="{'btn-outline-danger' : !forma.valid, 'btn-outline-primary' : forma.valid}" class="btn">
                                            Guardar
                                        </button>
                                    </div>
                                </div>
                            </form>
                            <!-- /.table-responsive -->
                        </div>
                        <!-- /.col-lg-4 (nested) -->
                        <div class="col-lg-8">
                            <div id="morris-bar-chart"></div>
                        </div>
                        <!-- /.col-lg-8 (nested) -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-8 -->

    </div>
    <!-- /#page-wrapper -->

</div>

<app-scripts></app-scripts>